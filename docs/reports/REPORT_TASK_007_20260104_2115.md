# Report: Worker完了レポートの必須ヘッダー自動補完

**Timestamp**: 2025-01-04T21:15:00+09:00  
**Actor**: Worker  
**Ticket**: docs/tasks/TASK_007_WorkerReportHeaderAutoComplete.md  
**Type**: Worker  
**Duration**: 0.3h  
**Changes**: Workerプロンプトテンプレートとドライバーに必須ヘッダー「概要」「次のアクション」を追加

## 概要
- Worker完了レポートに必須ヘッダー「概要」「次のアクション」を自動補完する機能を実装
- `docs/windsurf_workflow/WORKER_PROMPT_TEMPLATE.md` の `output_format` セクションに「概要」「次のアクション」を追加
- `prompts/every_time/WORKER_COMPLETION_DRIVER.txt` に必須ヘッダーの明記を追加
- これにより、`report-validator.js` の警告を事前に防ぐことができる

## Changes
- `docs/windsurf_workflow/WORKER_PROMPT_TEMPLATE.md`: `output_format` セクションに「概要」「次のアクション」セクションを追加（207-208行目、231-232行目）
- `prompts/every_time/WORKER_COMPLETION_DRIVER.txt`: Phase 1のミッションセクションに必須ヘッダーの明記を追加（3番目の項目）

## Decisions
- 「概要」と「次のアクション」のみを追加: `REPORT_CONFIG.yml` の `standard` スタイルには「概要」「現状」「次のアクション」が必須ヘッダーとして定義されているが、Workerレポートでは「現状」は必須ではないため、「概要」と「次のアクション」のみを追加
- 既存のOrchestratorレポート自動補完機能（`report-orch-cli.js` の242-254行目）のパターンを参考に、テンプレートに直接必須ヘッダーを追加する方式を採用

## Verification
- `node scripts/sw-doctor.js --profile shared-orch-bootstrap --format text`: システム健全性チェック完了、必須機能は正常に動作
- `git status -sb`: 変更ファイルを確認済み
- 実装内容の確認: `WORKER_PROMPT_TEMPLATE.md` と `WORKER_COMPLETION_DRIVER.txt` に必須ヘッダーが正しく追加されていることを確認

## Risk
- 後方互換性: 既存のWorkerレポートフォーマットとの整合性を保つため、必須ヘッダーは追加のみで、既存のセクションは変更していない
- 検証不足: 実際のWorkerレポートでの動作確認は、次回のWorkerレポート作成時に実施される

## Remaining
- なし

## Handover
- 実装完了: `WORKER_PROMPT_TEMPLATE.md` と `WORKER_COMPLETION_DRIVER.txt` に必須ヘッダーを追加済み
- 次回のWorkerレポート作成時に、`report-validator.js` の警告が減少することを確認
- 必要に応じて、`prompts/every_time/WORKER_METAPROMPT.txt` や `docs/Worker_Prompt.md` にも必須ヘッダーの明記を追加することを検討

## 次のアクション
- チケットを DONE に更新し、Report パスを追記
- 変更を commit（push は GitHubAutoApprove=true の場合のみ自律実行）

## Proposals（任意）
- Workerレポートテンプレートの自動生成機能: Workerプロンプト生成時に、必須ヘッダーを含むテンプレートを自動生成する機能を追加することで、さらに警告を事前に防げる可能性がある（優先度: Low）
